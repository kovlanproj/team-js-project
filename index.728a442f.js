function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},a={},r=t.parcelRequire6569;null==r&&((r=function(e){if(e in n)return n[e].exports;if(e in a){var t=a[e];delete a[e];var r={id:e,exports:{}};return n[e]=r,t.call(r.exports,r,r.exports),r.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},t.parcelRequire6569=r);var i=r("eqUos"),o=r("eWCmQ");r("fb9GJ");var l=r("ksYnG"),s=r("eRClg");i=r("eqUos");function u(e){localStorage.setItem("loc",JSON.stringify(e))}function d(){return JSON.parse(localStorage.getItem("loc"))}function c(e){localStorage.setItem("page",JSON.stringify(e))}function f(){return JSON.parse(localStorage.getItem("page"))}var g=r("6kcu2"),p=r("amyG6"),m=r("axgPN"),v=r("XwkCV"),h=r("hUOkC"),_=r("krGWQ");(0,v.renderNav)("index");const w=document.querySelector("#modal-btn-auth");w&&w.addEventListener("click",m.onShowAuthModal),m.formBackdropRef.addEventListener("click",m.onClickBackdrop);const S=new(0,i.default);function C(e){S.setContainerRef(_.default.filmsContainer),S.setPage(f()||S.getStartPage()),S.getMoviesList().then((({results:t,total_pages:n})=>{_.default.filmsContainer.innerHTML="",S.resetContainerRef(),l.default.reset(10*n),k(t),l.default.movePageTo(e)})).catch(console.log)}function L(t,n){S.setContainerRef(_.default.filmsContainer),S.setPage(f()||S.getStartPage()),S.getMovie(t).then((({results:t,total_pages:a})=>{_.default.filmsContainer.innerHTML="",S.resetContainerRef(),l.default.reset(10*a),0!==t.length?(k(t),l.default.movePageTo(n||S.resetPage())):e(o).Notify.failure("Search result not successful. Enter the correct movie name and",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0})})).catch(console.log)}function k(t){S.isLibrary=!1;const n=t.map((t=>{const{original_title:n,poster_path:a,vote_average:r,release_date:i,genre_ids:o,id:l}=t,u=new Date(i).getFullYear();return`<li data-id="${l}" class="card film-card">\n                        <div class="film-card__img-wrap">\n                            <img\n                                class="film-card__img"\n                                src=${function(e){const t="https://www.reelviews.net/resources/img/default_poster.jpg";return e?`https://image.tmdb.org/t/p/w500${e}`:t}(a)}\n                                alt="Poster to movie"\n                                width="395"\n                                height="574"\n                            />\n                        </div>\n                        <div class="film-card__wrap">\n                            <h2 class="film-card__title">${n}</h2>\n                            <div class="film-card__wrapper">\n                                <span class="film-card__info">${function(t){let n=[];for(let a=0;a<t.length;a+=1)e(s).genres.find((({id:e,name:r})=>{e===t[a]&&n.push(r)}));n.length>2&&n.splice(2,3,"Other");return n}(o).join(", ")} | ${u}</span>\n                                <span data-film-rating class="film-card__rating">${r.toFixed(2)}</span>\n                            </div>\n                        </div>\n                    </li>`})).join("");_.default.cardList.innerHTML=n,_.default.cardList.addEventListener("click",(e=>{const t=e.target.closest("li");if(t){const e=t.getAttribute("data-id");(0,h.showInfoModal)(S,e)}}))}_.default.form.addEventListener("submit",(function(t){t.preventDefault(),S.resetPage(),l.default.reset(),c(S.getStartPage());const n=t.currentTarget.elements.searchQuery.value.trim().toLowerCase();if(!n)return void e(o).Notify.failure("Enter the name of the movie!",{position:"center-top",fontFamily:"inherit",borderRadius:"25px",clickToClose:!0});return L(n||_.default.input.value)})),_.default.paginationList.addEventListener("click",(function(){return S.page=l.default.getCurrentPage(),c(S.page),window.scrollTo({top:0,left:0,behavior:"smooth"}),""===_.default.input.value?C(f()):L(d(),f())})),_.default.input.addEventListener("input",(function(e){u(e.target.value);""!==e.target.value&&null!==d()||(c(1),C(1))})),_.default.input.value=d(),function(e){if(""!==e)return u(_.default.input.value),L(d(),f()||S.getStartPage()),void l.default.reset();C(f()||S.getStartPage())}(_.default.input.value),(0,p.onAuthStateChanged)(g.auth,(e=>{if(e){e.uid;localStorage.setItem("auth","1"),(0,v.removeAuthBtns)(),(0,v.addNav)("index"),(0,v.addLogOutButton)()}else console.log("User is signed out"),localStorage.setItem("auth","0"),(0,v.addAuthBtns)(),(0,v.removeNav)(),document.querySelector("#modal-btn-auth").addEventListener("click",m.onShowAuthModal)}));
//# sourceMappingURL=index.728a442f.js.map
